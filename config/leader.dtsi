#undef ZMK_LEADER_SEQUENCE
#define ZMK_LEADER_SEQUENCE(name, leader_bindings, leader_sequence) \
    / { \
        behaviors { \
            leader: leader { \
                compatible = "zmk,behavior-leader-key"; \
                #binding-cells = <0>; \
                ignore-keys = <LSHFT RSHFT>; \
                leader_sequence_ ## name { \
                    bindings = <leader_bindings>; \
                    sequence = <leader_sequence>; \
                }; \
            }; \
        }; \
    };

#define UC_PT_O_TILDE 0xf5 0xd5  // õ/Õ
#define UC_PT_EA 0xe9  0xc9      // é/É
#define UC_PT_IA 0xed 0xcd       // í/Í

ZMK_MACRO(accent_ao,   bindings = <&uc UC_PT_A_TILDE &kp O>;)        // ÃO
ZMK_MACRO(accent_oes,  bindings = <&uc UC_PT_O_TILDE &kp E &kp S>;)  // ÕES
ZMK_MACRO(accent_cao,  bindings = <&uc UC_PT_C_CEDILLA &accent_ao>;)     // ÇÃO
ZMK_MACRO(accent_coes, bindings = <&uc UC_PT_C_CEDILLA &accent_oes>;)    // ÇÕES

/* Portuguese accented letters */
ZMK_LEADER_SEQUENCE(pt_aa,      &uc UC_PT_AA,           A A)  // á
ZMK_LEADER_SEQUENCE(pt_ag,      &uc UC_PT_A_GRAVE,      A G)  // à
ZMK_LEADER_SEQUENCE(pt_ac,      &uc UC_PT_A_CIRCUMFLEX, A I)  // â
ZMK_LEADER_SEQUENCE(pt_atilde,  &uc UC_PT_A_TILDE,      A N)  // ã
ZMK_LEADER_SEQUENCE(pt_oa,      &uc UC_PT_OA,           O A)  // ó
ZMK_LEADER_SEQUENCE(pt_oc,      &uc UC_PT_O_CIRCUMFLEX, O I)  // ô
ZMK_LEADER_SEQUENCE(pt_otilde,  &uc UC_PT_O_TILDE,      O N)  // õ
ZMK_LEADER_SEQUENCE(pt_ea,      &uc UC_PT_EA,           E A)  // é
ZMK_LEADER_SEQUENCE(pt_ec,      &uc UC_PT_E_CIRCUMFLEX, E I)  // ê
ZMK_LEADER_SEQUENCE(pt_ia,      &uc UC_PT_IA,           I A)  // í
ZMK_LEADER_SEQUENCE(pt_cedilla, &uc UC_PT_C_CEDILLA,    C C)  // ç
ZMK_LEADER_SEQUENCE(pt_ao,      &accent_ao,             A O)  // ão
ZMK_LEADER_SEQUENCE(pt_oes,     &accent_oes,            O E)  // ões
ZMK_LEADER_SEQUENCE(pt_cao,     &accent_cao,            C A)  // ção
ZMK_LEADER_SEQUENCE(pt_coes,    &accent_coes,           C O)  // ções

/* Greek letters */
ZMK_LEADER_SEQUENCE(el_alpha,   &uc UC_EL_ALPHA,      G A)  // α
ZMK_LEADER_SEQUENCE(el_beta,    &uc UC_EL_BETA,       G B)  // β
ZMK_LEADER_SEQUENCE(el_gamma,   &uc UC_EL_GAMMA,      G G)  // γ
ZMK_LEADER_SEQUENCE(el_delta,   &uc UC_EL_DELTA,      G D)  // δ
ZMK_LEADER_SEQUENCE(el_epsilon, &uc UC_EL_EPSILON,    G E)  // ε
ZMK_LEADER_SEQUENCE(el_zeta,    &uc UC_EL_ZETA,       G Z)  // ζ
ZMK_LEADER_SEQUENCE(el_eta,     &uc UC_EL_ETA,        G H)  // η
ZMK_LEADER_SEQUENCE(el_theta,   &uc UC_EL_THETA,      G V)  // θ
ZMK_LEADER_SEQUENCE(el_iota,    &uc UC_EL_IOTA,       G I)  // ι
ZMK_LEADER_SEQUENCE(el_kappa,   &uc UC_EL_KAPPA,      G K)  // κ
ZMK_LEADER_SEQUENCE(el_lambda,  &uc UC_EL_LAMBDA,     G L)  // λ
ZMK_LEADER_SEQUENCE(el_mu,      &uc UC_EL_MU,         G M)  // μ
ZMK_LEADER_SEQUENCE(el_nu,      &uc UC_EL_NU,         G N)  // ν
ZMK_LEADER_SEQUENCE(el_xi,      &uc UC_EL_XI,         G X)  // ξ
ZMK_LEADER_SEQUENCE(el_omikron, &uc UC_EL_OMIKRON,    G O)  // ο
ZMK_LEADER_SEQUENCE(el_pi,      &uc UC_EL_PI,         G P)  // π
ZMK_LEADER_SEQUENCE(el_rho,     &uc UC_EL_RHO,        G R)  // ρ
ZMK_LEADER_SEQUENCE(el_sigma,   &uc UC_EL_SIGMA,      G S)  // σ
ZMK_LEADER_SEQUENCE(el_tau,     &uc UC_EL_TAU,        G T)  // τ
ZMK_LEADER_SEQUENCE(el_upsilon, &uc UC_EL_UPSILON,    G U)  // υ
ZMK_LEADER_SEQUENCE(el_phi,     &uc UC_EL_PHI,        G F)  // ϕ
ZMK_LEADER_SEQUENCE(el_chi,     &uc UC_EL_CHI,        G C)  // χ
ZMK_LEADER_SEQUENCE(el_psi,     &uc UC_EL_PSI,        G Y)  // ψ
ZMK_LEADER_SEQUENCE(el_omega,   &uc UC_EL_OMEGA,      G W)  // ω

// BLE and USB
#ifdef CONFIG_WIRELESS
ZMK_LEADER_SEQUENCE(usb,        &out OUT_USB,   U S B)
ZMK_LEADER_SEQUENCE(ble,        &out OUT_BLE,   B L E)
#endif // CONFIG_WIRELESS
ZMK_LEADER_SEQUENCE(reset,      &sys_reset,     R E S E T)
ZMK_LEADER_SEQUENCE(boot,       &bootloader,    B O O T)

